<!DOCTYPE html>
<html style="  background-color: black;">
  <head>
    <title>Time Series</title>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/smoothie/1.27.0/smoothie.min.js"></script>
    
  </head>
  <body onload="createTimeline()">
    <canvas id="chart" width="800" height="100"></canvas>
    <script>
       

      var timeseries = new TimeSeries();
      function createTimeline() {
        var chart = new SmoothieChart();
        chart.addTimeSeries(timeseries, { strokeStyle: 'rgba(0, 255, 0, 1)', fillStyle: 'rgba(0, 255, 0, 0.2)', lineWidth: 4 });
        chart.streamTo(document.getElementById("chart"), 500);
      };
      var ws = new WebSocket("ws://" + window.location.hostname + ":3002");
      ws.onmessage = function (evt) 
       { 
          timeseries.append(new Date().getTime(),parseFloat(evt.data))
       };
    </script>
  </body>
</html>
